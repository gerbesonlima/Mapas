<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <title>Territorios Congregação Sao Paulo</title>
    
</head>
<body>
   
<h1> Mapas dos Territorios</h1>
<div class="container">
    <!-- Grupo 02 -->
    <div class="grupo">
        <div class="grupo-titulo" onclick="toggleList('grupo1')">Grupo 02 - Saida casa do Jenerino</div>
        <div class="grupo-lista" id="grupo1">
             <a href="https://goo.gl/maps/Md49jEyZRj3EvN6v9">1 Conjunto São Paulo </a> 
            <a href="https://www.google.com/maps/d/edit?mid=1r6jF2LI2ux7isdXChAk4B4nROMWCICg&usp=sharing&authuser=0">2 Curva São Paulo</a>
            <a href="https://www.google.com/maps/d/edit?mid=12PrxH_RXHnTg3Hrp8zp8oD3bpQvhG_c&usp=sharing">3 Vila Beira Rio</a>
            <a href="https://www.google.com/maps/d/edit?mid=195rUyTh_G2LjbtAkXVp2LvBEwv997Po&usp=sharing&authuser=0">4.1 Res Araguaia</a>
            <a href="https://www.google.com/maps/d/edit?mid=12gcziapB8ifTF4qB0JIERIbZO1dNKIw&usp=sharing&authuser=0">4.2 Res Araguaia</a>
            <a href="https://www.google.com/maps/d/edit?mid=1MYrUYQJ1id99b_MZ7-xi5hrfKlyMAKE&usp=sharing">5 Vila Bagda</a>
        </div>
    </div>

    <!-- Grupo 03 -->
    <div class="grupo">
        <div class="grupo-titulo" onclick="toggleList('grupo3')">Grupo 03 -  Saida casa do Ewerton</div>
        <div class="grupo-lista" id="grupo3">
            <a href=" https://www.google.com/maps/d/viewer?mid=18Wxukw79C2pPGSVY3Ql8vD2n1oCEAis&hl=pt-BR&usp=sharing">6.1 Vila Firmino</a>
            <a href="https://www.google.com/maps/d/viewer?mid=1GOBDMjUsQ1wS1sbzGHKeR-DS5kIkKGs&usp=sharing">6.2 Vila Firmino</a>
            <a href="https://www.google.com/maps/d/edit?mid=19ZUY-pf4uECpRL1FVBb7QEpJTBCyZ4k&usp=sharing">7 Parque Poty</a>
            <a href="#">8 Vila Poty</a>
            <a href="#">9 Sales</a>
        </div>
    </div>

    <!-- Grupo 04 -->
    <div class="grupo">
        <div class="grupo-titulo" onclick="toggleList('grupo4')">Grupo 04 - Saida casa do Jose Lopes</div>
        <div class="grupo-lista" id="grupo4">
            <a href="#">10 Cidade Nova</a>
            <a href="#">11 Porto Rico</a>
            <a href="#">12 Renascenca I</a>
            <a href="https://www.google.com/maps/d/edit?mid=14yxkw5es33dESFQOouLKK3ds_Wdl_u8&usp=sharing">13 Renascenca III</a>
        </div>
    </div>

    <!-- Grupo 01 (Segunda Parte) -->
    <div class="grupo">
        <div class="grupo-titulo" onclick="toggleList('grupo1-2')">Grupo 01 - Saida do Salao do Reino</div>
        <div class="grupo-lista" id="grupo1-2">
            <a href="#">14 Loteamento Renascença</a>
            <a href="#">15 Renacenla III Terceira Etapa</a>
            <a href="#">16 Porto Rico II</a>
            <a href="#">17 Andarai</a>
            <a href="#">18 Jardim dos Passaros</a>
        </div>
    </div>

    <!-- Grupo 05 -->
    <div class="grupo">
        <div class="grupo-titulo" onclick="toggleList('grupo5')">Grupo 05 - Saida do Fernando</div>
        <div class="grupo-lista" id="grupo5">
            <a href="#">19 Washigton</a>
            <a href="#">20 Vitoria Regia</a>
            <a href="#">21 Sertaozinho</a>
            <a href="#">22 Canaxue</a>
            <a href="#">23 Novo Milenio</a>
            <a href="#">24 Todos os Santos</a>
            <a href="#">25 Deus Provera</a>
            <a href="#">26 Loteamento todos os Santos Lado Direito</a>
            <a href="#">27.1 Pedro Balzi - Frente com Conj</a>
            <a href="#">27.2 Pedro Balzi - Parte de Cima</a>
            <a href="#">27.3 Pedro Balzi - Vila nova Esperança</a>
            <a href="#">28 Povoado Jumento</a>
        </div>
    </div>
</div>
<div class="container">
    <!-- Seu conteúdo existente aqui -->
</div>

<div class="message-container">
    <h2>Deixe sua mensagem</h2>
    <form id="messageForm">
        <input type="text" id="name" placeholder="Seu nome" required>
        <textarea id="message" placeholder="Sua mensagem" required></textarea>
        <button type="submit">Enviar</button>
    </form>
    <div id="messages"></div>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbysusFsS79Q0RIGZNSQbFjuHDs-TLJ4ymNDGcRDm7DMykDkSV0LcGqYcCdn5wCb2loJWQ/exec';

    document.addEventListener('DOMContentLoaded', function() {
        fetch(`${scriptURL}?action=getMessages`)
            .then(response => response.json())
            .then(data => {
                data.forEach(row => addMessage(row[0], row[1], new Date(row[2]).toLocaleString('pt-BR')));
            });
    });

    document.getElementById('messageForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const name = document.getElementById('name').value;
        const message = document.getElementById('message').value;
        const timestamp = new Date().toLocaleString('pt-BR');
        const messageData = { name, message };

        fetch(scriptURL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(messageData)
        })
        .then(response => response.text())
        .then(result => {
            if (result === 'Mensagem salva') {
                addMessage(name, message, timestamp);
                document.getElementById('messageForm').reset();
            }
        });
    });

    function addMessage(name, message, timestamp) {
        const messageContainer = document.getElementById('messages');
        const messageElement = document.createElement('div');
        messageElement.classList.add('message');
        messageElement.innerHTML = `
            <strong>${name}</strong>: <span class="message-text">${message}</span>
            <br><small>${timestamp}</small>
            <button onclick="editMessage(this)">Editar</button>
        `;
        messageContainer.insertBefore(messageElement, messageContainer.firstChild);
    }

    function editMessage(button) {
        const messageElement = button.parentElement;
        const messageText = messageElement.querySelector('.message-text');
        const newMessage = prompt('Edite sua mensagem:', messageText.textContent);
        if (newMessage !== null) {
            messageText.textContent = newMessage;
        }
    }
</script>
</body>
</html>